<%- include('partials/header') %>
    <div class="container">
        <div class="form-wrapper">
            <h2>Place New Order</h2>
            <div class="cart-items mb-4">
                <h3>Cart Items</h3>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Price</th>
                            <th>Quantity</th>
                            <th>Subtotal</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% cartItems.forEach((item) => { %>
                            <tr>
                                <td><%= item.description %></td>
                                <td>$<%= item.price %></td>
                                <td><%= item.quantity %></td>
                                <td>$<%= (item.price * item.quantity) %></td>
                            </tr>
                        <% }) %>
                    </tbody>
                </table>
            </div>
            <form action="/place-order" method="post">
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="user_id">User ID</label>
                        <input type="number" class="form-control" name="user_id" id="user_id" 
                               value="<%= user.user_id %>" readonly required>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="total_amount">Total Amount</label>
                        <input type="number" step="0.01" class="form-control" name="total_amount" id="total_amount" 
                               value="<%= totalAmount %>" readonly required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="shipping_address">Shipping Address</label>
                        <textarea 
                            class="form-control" 
                            name="shipping_address" 
                            id="shipping_address" 
                            required><%= user.shipping_address || '' %></textarea>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="billing_address">Billing Address</label>
                        <textarea class="form-control" name="billing_address" id="billing_address" required><%= user.billing_address || '' %></textarea>
                    </div>
                </div>
                <div class="form-group">
                    <label for="order_status">Order Status</label>
                    <select class="form-control" name="order_status" id="order_status">
                        <option>Pending</option>
                        <option>Processing</option>
                        <option>Shipped</option>
                        <option>Delivered</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Place Order</button>
            </form>
        </div>
    </div>
</body>
</html>